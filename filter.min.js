const impermaxFilter=(e,r,l=!1)=>{let o=[];window.originalRows?o=window.originalRows:(document.querySelectorAll(".pairs-table-row").forEach(e=>o.push(e)),window.originalRows=o);const t=o.map(e=>e.querySelectorAll(".col")[2]).filter(e=>e).map(e=>[e.querySelectorAll("div")[0].innerHTML,e.querySelectorAll("div")[1].innerHTML].map(e=>parseFloat(e.split("%")[0])/100)),n=o.map(e=>e.querySelectorAll(".col")[3]).filter(e=>e).map(e=>[e.querySelectorAll("div")[0].innerHTML,e.querySelectorAll("div")[1].innerHTML].map(e=>parseFloat(e.split("%")[0])/100)),i=o.map(e=>e.querySelectorAll(".col-5 .percentage")).filter(e=>e).map(e=>parseFloat(e[0].innerHTML.split("%")[0])/100),c=o.map(e=>e.querySelector(".col-7 .symbols").innerHTML),a=o.map(e=>e.querySelector(".col-7 .amm-label").innerHTML),p=o.map(e=>e.href);let s=c.map((e,r)=>e.split("/").map((e,l)=>({token:e,pair:c[r],source:a[r],supply:t[r][l],borrow:n[r][l],farm:i[r],href:p[r],row:o[r]}))).reduce((e,r)=>[...e,...r],[]).filter(r=>e.includes(r.token));if(s=s.sort((e,l)=>"borrow"==r?e[r]-l[r]:l[r]-e[r]),l){document.querySelectorAll(".pairs-table-row").forEach(e=>e.remove());const e=document.querySelector(".pairs-table");s.forEach(r=>{const l=r.row.cloneNode(!0);l.innerHTML=l.innerHTML.replace(r.token,`<b>${r.token}</b>`);const o=r.pair.split("/").indexOf(r.token);l.querySelectorAll(".col, .currencies-rows-icon").forEach(e=>e.querySelectorAll("div")[(o+1)%2].remove()),e.insertAdjacentElement("beforeend",l)})}return s};
